!function(B){"use strict";B.dlxQuiz=function(t,e){var r=this,c=B(t),a=c.attr("id"),s="#"+a,o=0,n=e.quizData,l=null,h=null,u="disabled",d="quizQuestions",
 p="showQuestion",f="questionAnswers",i="selectedAnswer",g="quizControls",v="ctrlPrev",w="ctrlNext",m="ctrlDone",x="quizResults",z="viewResults",
 q=" ."+d,b=s+" .quizQuestions > li",Q=s+" .questionAnswers li",C=s+" .quizControls",_=s+" .ctrlPrev",k=s+" .ctrlNext",S=s+" .ctrlDone",
R=s+" .viewResults",$=s+" .quizResults";if(r.config=B.extend({questionCount_text:"السؤال %current_index من %totalQuestions",backButton_text:"السؤال السابق",
nextButton_text:"السؤال التالي",completeButton_text:"إنهاء الاختبار",viewResultsButton_text:"عرض النتائج",resultsHeader_text:"إليك ما حققته",
quizScore_text:"النتيجه %totalScore من %totalQuestions",
quizScoreMessage_text:"",quizScoreRank_text:{a:"نتيجة جيده !",b:"عمل جيد !",c:"لقد نجحت على الأقل.",d:"كان يجب أن تدرس أكثر.",f:"هل حاولت بالفعل؟"},show_QuestionCount:!0,showBackButton:!0,showRadioButtons:!0,showScoreRank:!0,showScoreMessage:!0,showViewResultsButton:!0,randomizeQuestions:!0,randomizeAnswers:!0},e),r.method={buildQuiz:function(t){var i;n=t,l=r.config.randomizeQuestions?r.method.randomizeArray(n.questions):n.questions,h=l.length,c.hasClass("quiz")||c.addClass("quiz"),i='<ul class="'+d+'">',B.each(l,function(o){var n=l[o];n.options=r.config.randomizeAnswers?r.method.randomizeArray(n.options):n.options,i+="<li",i+=0===o?' class="'+p+'">':">",r.config.show_QuestionCount&&(i+='<span class="questionCount">',i+=r.config.questionCount_text.replace("%current_index",o+1).replace("%totalQuestions",h),i+="</span>"),i+='<h2 class="questionTitle">',i+=n.q,i+="</h2>",i+='<ul class="'+f+'">',B.each(n.options,function(t){var e=a+"-q"+(o+1),s=e+"-a"+(t+1);i+="<li>",i+='<label for="'+s+'">',i+="<input ",i+=r.config.showRadioButtons?"":'class="hidden" ',i+='type="radio" name="',i+=e+'"',i+=' id="'+s+'"',i+=' value="'+n.options[t]+'">',i+=n.options[t],i+="</label>",i+="</li>"}),i+="</ul>",i+="</li>",o+=1}),i+="</ul>",i+='<div class="'+g+'">',r.config.showBackButton&&(i+='<button class="'+v+'">',i+=r.config.backButton_text+"</button>"),i+='<button class="'+w+" "+u+'">',i+=r.config.nextButton_text+"</button>",i+='<button class="'+m+" "+u+'">',i+=r.config.completeButton_text+"</button>",i+="</div>",c.append(i),r.events.init()},randomizeArray:function(t){for(var e,s,o=t.length;o;)s=Math.floor(Math.random()*o--),e=t[o],t[o]=t[s],t[s]=e;return t},buildQuizResults:function(){var t,e="",s=0;B.each(l,function(t){l[t].answerCorrect=l[t].selected===l[t].a,l[t].answerCorrect&&(s+=1)}),e+='<div class="'+x+'">',e+='<h1 class="quizScoreRank">',e+=80<(t=s/h*100)?r.config.quizScoreRank_text.a:60<t?r.config.quizScoreRank_text.b:40<t?r.config.quizScoreRank_text.c:20<t?r.config.quizScoreRank_text.d:r.config.quizScoreRank_text.f,e+="</h1>",e+='<p class="quizScore">',e+=r.config.quizScore_text.replace("%totalScore",s).replace("%totalQuestions",h),e+="</p>",r.config.showScoreMessage&&(e+='<p class="quizScoreMessage">',e+=r.config.quizScoreMessage_text,e+="</p>"),r.config.showViewResultsButton&&(e+='<button class="'+z+'">',e+=r.config.viewResultsButton_text,e+="</button>"),c.append(e);var o=localStorage.getItem("lgname"),n=localStorage.getItem("lgphone"),i=localStorage.getItem("lgpclass"),a=localStorage.getItem("lgPphone"),u=r.config.quizScore_text.replace("%totalScore",s).replace("%totalQuestions",h),e=document.title,e="<b style='color:red'>اختبار الكتروني</b>%0Aالاســــــــــــــــــــــــــم : <pre>"+o+"</pre>%0Aرقم الهاتف : <pre>"+n+"</pre>%0Aرقم هاتف ولي الامر : <pre>"+a+"</pre>%0Aالصف الدراسي : <pre>"+i+"</pre>%0Aالنتيجه : <pre>"+u+"</pre>%0A%0A<b>تم الارسال من الصفحه : <a href='"+("https://"+window.location.host+window.location.pathname)+"' style='color:red!important'>"+e+"</a></b>";B.get("https://api.telegram.org/bot6067697810:AAHoC3_RgV-d0yIsAPhuI3taXY6iM0KjvBY/sendMessage?text="+e+"&chat_id=-1001845910306&parse_mode=html"),r.config.showViewResultsButton&&r.events.resultsButton()}},r.events={init:function(){this.controls.init(),this.answerQuestion(),this.checkQuestion()},controls:{DOM:function(){this.plugin=r.events,this.questionCount=h-1,this.$previous=B(_),this.$next=B(k),this.$complete=B(S),this.$buttons=this.$previous.add(this.$next).add(this.$complete)},init:function(){this.DOM();var t=this.$buttons,e=this;t.on("click",function(){var t=B(this);if(e.isNotDisabled(t))switch(t.attr("class")){case v:e.plugin.previousQuestion();break;case w:e.plugin.nextQuestion();break;case m:B(s+" "+q).add(C).remove(),r.method.buildQuizResults()}})},isNotDisabled:function(t){return!t.hasClass(u)},resetDisabled:function(){var e=0;switch(o){case 0:this.$previous.addClass(u),this.$complete.hide(),this.$next.show();break;case this.questionCount:this.$next.addClass(u).hide(),this.$previous.removeClass(u),this.$complete.show();break;default:this.$previous.removeClass(u),this.$next.show(),this.$complete.hide()}this.$next=void 0!==l[o].selected?this.$next.removeClass(u):this.$next.addClass(u),B.each(l,function(t){e=l[t].selected?e+=1:e}),e===h&&this.$complete.removeClass(u)}},nextQuestion:function(){o+=1,this.checkQuestion()},previousQuestion:function(){--o,this.checkQuestion()},checkQuestion:function(){this.controls.resetDisabled(),B(b).removeClass(p),B(B(b)[o]).addClass(p)},answerQuestion:function(){B(Q+" input").on("click",function(t){var e=B(this),s=e.parent().parent();B('input:radio[name="'+e.prop("name")+'"]').parent().parent().removeClass(i),s.addClass(i),l[o].selected=e.val(),r.events.checkQuestion()})},resultsButton:function(){B(R).on("click",function(){var e;B(R).remove(),e="<h2>"+r.config.resultsHeader_text+"</h2>",e+='<ul class="showingResults">',B.each(l,function(t){e+='<li class="',e+=l[t].answerCorrect?"answeredCorrect":"answeredWrong",e+='">',e+='<h3 class="questionTitle">',e+=t+1+". "+l[t].q,e+="</h3>",e+="<p>",l[t].answerCorrect||(e+="<strong> اجابتك: </strong>",e+=l[t].selected+"<br>"),e+="<strong> الإجاية الصحيحة: </strong>",e+=l[t].a+"<br>",e+="</p>",e+="</li>"}),e+="</ul>",B($).append(e)})}},n)if("string"==typeof n)B.getJSON(n).then(function(t){r.method.buildQuiz(t)});else{if("object"!=typeof e.quizData)throw n=null,"Error: Check quizData for - "+s;r.method.buildQuiz(n)}},B.fn.dlxQuiz=function(t){return this.each(function(){new B.dlxQuiz(this,t)})}}(jQuery);
